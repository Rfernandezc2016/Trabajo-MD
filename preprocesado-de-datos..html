<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Preprocesado de datos. | Memoria del trabajo</title>
  <meta name="description" content="4 Preprocesado de datos. | Memoria del trabajo" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Preprocesado de datos. | Memoria del trabajo" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Preprocesado de datos. | Memoria del trabajo" />
  
  
  

<meta name="author" content="Adrián Rocha De la Casa, Yassin Khalifa Martino y Rocío Fernández Cebrián" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="datos.html"/>
<link rel="next" href="modelado.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="objetivos-del-negocio.html"><a href="objetivos-del-negocio.html"><i class="fa fa-check"></i><b>2</b> ¿ Objetivos (del negocio)?</a></li>
<li class="chapter" data-level="3" data-path="datos.html"><a href="datos.html"><i class="fa fa-check"></i><b>3</b> Datos</a></li>
<li class="chapter" data-level="4" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html"><i class="fa fa-check"></i><b>4</b> Preprocesado de datos.</a>
<ul>
<li class="chapter" data-level="4.1" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#particiones."><i class="fa fa-check"></i><b>4.1</b> Particiones.</a></li>
<li class="chapter" data-level="4.2" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#eda.-exploratory-data-analysis."><i class="fa fa-check"></i><b>4.2</b> EDA. Exploratory Data Analysis.</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#letalidad"><i class="fa fa-check"></i><b>4.2.1</b> Letalidad:</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#correlación-entre-las-variables."><i class="fa fa-check"></i><b>4.3</b> Correlación entre las variables.</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#forma-del-sombrero-forma_s"><i class="fa fa-check"></i><b>4.3.1</b> Forma del sombrero (Forma_S)</a></li>
<li class="chapter" data-level="4.3.2" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#cutícula"><i class="fa fa-check"></i><b>4.3.2</b> Cutícula</a></li>
<li class="chapter" data-level="4.3.3" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#color-del-sombrero-color_s"><i class="fa fa-check"></i><b>4.3.3</b> Color del sombrero (Color_S)</a></li>
<li class="chapter" data-level="4.3.4" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#escamas"><i class="fa fa-check"></i><b>4.3.4</b> Escamas</a></li>
<li class="chapter" data-level="4.3.5" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#olor"><i class="fa fa-check"></i><b>4.3.5</b> Olor</a></li>
<li class="chapter" data-level="4.3.6" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#fijación-de-las-láminas-fijacion_l"><i class="fa fa-check"></i><b>4.3.6</b> Fijación de las láminas (Fijacion_L)</a></li>
<li class="chapter" data-level="4.3.7" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#espacio-entre-láminas-espacio_l"><i class="fa fa-check"></i><b>4.3.7</b> Espacio entre láminas (Espacio_L)</a></li>
<li class="chapter" data-level="4.3.8" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#tamaño-de-las-láminas-tamaño_l"><i class="fa fa-check"></i><b>4.3.8</b> Tamaño de las láminas (Tamaño_L)</a></li>
<li class="chapter" data-level="4.3.9" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#color-de-las-láminas-color_l"><i class="fa fa-check"></i><b>4.3.9</b> Color de las láminas (Color_L)</a></li>
<li class="chapter" data-level="4.3.10" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#forma-del-tallo-forma_t"><i class="fa fa-check"></i><b>4.3.10</b> Forma del tallo (Forma_T)</a></li>
<li class="chapter" data-level="4.3.11" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#tallo-raíz-tallo_raiz"><i class="fa fa-check"></i><b>4.3.11</b> Tallo-Raíz (Tallo_raiz)</a></li>
<li class="chapter" data-level="4.3.12" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#superficie-del-tallo-por-encima-del-anillo-superficie_t1"><i class="fa fa-check"></i><b>4.3.12</b> Superficie del tallo por encima del anillo (Superficie_T1)</a></li>
<li class="chapter" data-level="4.3.13" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#superficie-del-tallo-por-debajo-del-anillo-superficie_t2"><i class="fa fa-check"></i><b>4.3.13</b> Superficie del tallo por debajo del anillo (Superficie_T2)</a></li>
<li class="chapter" data-level="4.3.14" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#color-del-tallo-por-encima-del-anillo-color_t1"><i class="fa fa-check"></i><b>4.3.14</b> Color del tallo por encima del anillo (Color_T1)</a></li>
<li class="chapter" data-level="4.3.15" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#color-del-tallo-por-debajo-del-anillo-color_t2"><i class="fa fa-check"></i><b>4.3.15</b> Color del tallo por debajo del anillo (Color_T2)</a></li>
<li class="chapter" data-level="4.3.16" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#color-del-volva-color_v"><i class="fa fa-check"></i><b>4.3.16</b> Color del volva (Color_V)</a></li>
<li class="chapter" data-level="4.3.17" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#número-de-anillos-n_anillos"><i class="fa fa-check"></i><b>4.3.17</b> Número de anillos (N_anillos)</a></li>
<li class="chapter" data-level="4.3.18" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#tipo-de-anillo-tipo_anillo"><i class="fa fa-check"></i><b>4.3.18</b> Tipo de anillo (Tipo_anillo)</a></li>
<li class="chapter" data-level="4.3.19" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#color-de-las-esporas"><i class="fa fa-check"></i><b>4.3.19</b> Color de las esporas</a></li>
<li class="chapter" data-level="4.3.20" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#población"><i class="fa fa-check"></i><b>4.3.20</b> Población</a></li>
<li class="chapter" data-level="4.3.21" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#habitat"><i class="fa fa-check"></i><b>4.3.21</b> Habitat</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#componentes-principales"><i class="fa fa-check"></i><b>4.4</b> Componentes principales</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#proceso-previo"><i class="fa fa-check"></i><b>4.4.1</b> Proceso previo</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#transformación-de-variables"><i class="fa fa-check"></i><b>4.5</b> Transformación de variables</a></li>
<li class="chapter" data-level="4.6" data-path="preprocesado-de-datos..html"><a href="preprocesado-de-datos..html#imputacion-de-datos-datos-faltantes"><i class="fa fa-check"></i><b>4.6</b> Imputacion de datos (datos faltantes)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="modelado.html"><a href="modelado.html"><i class="fa fa-check"></i><b>5</b> Modelado</a>
<ul>
<li class="chapter" data-level="5.1" data-path="modelado.html"><a href="modelado.html#análisis-cluster"><i class="fa fa-check"></i><b>5.1</b> Análisis Cluster</a></li>
<li class="chapter" data-level="5.2" data-path="modelado.html"><a href="modelado.html#k-nn"><i class="fa fa-check"></i><b>5.2</b> k-NN</a></li>
<li class="chapter" data-level="5.3" data-path="modelado.html"><a href="modelado.html#arboles-de-decisión"><i class="fa fa-check"></i><b>5.3</b> Arboles de Decisión</a></li>
<li class="chapter" data-level="5.4" data-path="modelado.html"><a href="modelado.html#bosques-aleatorios"><i class="fa fa-check"></i><b>5.4</b> Bosques Aleatorios</a></li>
<li class="chapter" data-level="5.5" data-path="modelado.html"><a href="modelado.html#support-vector-machines"><i class="fa fa-check"></i><b>5.5</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="evaluación.html"><a href="evaluación.html"><i class="fa fa-check"></i><b>6</b> Evaluación</a></li>
<li class="chapter" data-level="7" data-path="visualización-y-presentación-de-resultados.html"><a href="visualización-y-presentación-de-resultados.html"><i class="fa fa-check"></i><b>7</b> Visualización y Presentación de Resultados</a></li>
<li class="chapter" data-level="8" data-path="puesta-en-producción.html"><a href="puesta-en-producción.html"><i class="fa fa-check"></i><b>8</b> Puesta en producción</a></li>
<li class="chapter" data-level="9" data-path="actualización-del-modelo.html"><a href="actualización-del-modelo.html"><i class="fa fa-check"></i><b>9</b> Actualización del modelo…</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Memoria del trabajo</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="preprocesado-de-datos." class="section level1" number="4">
<h1><span class="header-section-number">4</span> Preprocesado de datos.</h1>
<p>Para poder tranformar las variables en factor, lo haremos mediante <strong>as.factor()</strong> a todas las variables de los datos.</p>
<p>Ahora podemos ver mejor como son nuestros datos.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="preprocesado-de-datos..html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(datos.setas)</span></code></pre></div>
<pre><code>##  Letalidad Forma_S  Cuticula    Color_S     Escamas       Olor      Fijacion_L
##  e:4208    b: 452   f:2320   n      :2284   f:4748   n      :3528   a: 210    
##  p:3916    c:   4   g:   4   g      :1840   t:3376   f      :2160   f:7914    
##            f:3152   s:2556   e      :1500            s      : 576             
##            k: 828   y:3244   y      :1072            y      : 576             
##            s:  32            w      :1040            a      : 400             
##            x:3656            b      : 168            l      : 400             
##                              (Other): 220            (Other): 484             
##  Espacio_L Tamaño_L    Color_L     Forma_T  Tallo_raiz Superficie_T1
##  c:6812    b:5612   b      :1728   e:3516   ?:2480     f: 552       
##  w:1312    n:2512   p      :1492   t:4608   b:3776     k:2372       
##                     w      :1202            c: 556     s:5176       
##                     n      :1048            e:1120     y:  24       
##                     g      : 752            r: 192                  
##                     h      : 732                                    
##                     (Other):1170                                    
##  Superficie_T2    Color_T1       Color_T2    Tipo_V   Color_V  N_anillos
##  f: 600        w      :4464   w      :4384   p:8124   n:  96   n:  36   
##  k:2304        p      :1872   p      :1872            o:  96   o:7488   
##  s:4936        g      : 576   g      : 576            w:7924   t: 600   
##  y: 284        n      : 448   n      : 512            y:   8            
##                b      : 432   b      : 432                              
##                o      : 192   o      : 192                              
##                (Other): 140   (Other): 156                              
##  Tipo_anillo Color_esporas  Poblacion Habitat 
##  e:2776      w      :2388   a: 384    d:3148  
##  f:  48      n      :1968   c: 340    g:2148  
##  l:1296      k      :1872   n: 400    l: 832  
##  n:  36      h      :1632   s:1248    m: 292  
##  p:3968      r      :  72   v:4040    p:1144  
##              b      :  48   y:1712    u: 368  
##              (Other): 144             w: 192</code></pre>
<p>Una de las variables, <strong>Tipo_v</strong> (tipo de volva) con dos niveles distintos, parcial (p) y universal (u), podríamos eliminarla de nuestros datos pues todo la frecuencia solo está en uno de los niveles, luego no aporta información alguna para determinar si es venenosa o comestible.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="preprocesado-de-datos..html#cb10-1" aria-hidden="true" tabindex="-1"></a>datos.setas<span class="ot">=</span>datos.setas[,<span class="sc">-</span><span class="dv">17</span>]</span></code></pre></div>
<p>Además, la variable <strong>Fijacion_L</strong> tendría solo dos niveles pues en el nivel descendente y entallado no aparecen en los datos y la variable <strong>Espacio_L</strong> también tiene dos niveles pues el nivel distante tampoco aparece, por ello las codificamos mediante unas variable binomiales.</p>
<p>Codificamos el resto de las variables originales de forma que obtendremos también nuevas variables binomiales.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="preprocesado-de-datos..html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#6 primeras observaciones de los datos ya codificados</span></span>
<span id="cb11-2"><a href="preprocesado-de-datos..html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(setas)</span></code></pre></div>
<pre><code>##   Venenosas Campana Cónica Convexa Plana Nudosa Hundida Fibroso Surcos Escamoso
## 1         1       0      0       1     0      0       0       0      0        0
## 2         0       0      0       1     0      0       0       0      0        0
## 3         0       1      0       0     0      0       0       0      0        0
## 4         1       0      0       1     0      0       0       0      0        1
## 5         0       0      0       1     0      0       0       0      0        0
## 6         0       0      0       1     0      0       0       0      0        1
##   Liso S_Marrón S_Ante S_Canela S_Gris S_Verde S_Rosa S_Morado S_Rojo S_Blanco
## 1    1        1      0        0      0       0      0        0      0        0
## 2    1        0      0        0      0       0      0        0      0        0
## 3    1        0      0        0      0       0      0        0      0        1
## 4    0        0      0        0      0       0      0        0      0        1
## 5    1        0      0        0      1       0      0        0      0        0
## 6    0        0      0        0      0       0      0        0      0        0
##   S_Amarillo Escamas O_almendra O_anís O_creosota O_pescado O_asqueroso
## 1          0       1          0      0          0         0           0
## 2          1       1          1      0          0         0           0
## 3          0       1          0      1          0         0           0
## 4          0       1          0      0          0         0           0
## 5          0       0          0      0          0         0           0
## 6          1       1          1      0          0         0           0
##   O_mohoso O_ninguno O_acre O_picante Adjunto/Libre Cerca/Atestado
## 1        0         0      1         0             0              1
## 2        0         0      0         0             0              1
## 3        0         0      0         0             0              1
## 4        0         0      1         0             0              1
## 5        0         1      0         0             0              0
## 6        0         0      0         0             0              1
##   Ancho/Estrecho L_Negro L_Marrón L_Canela L_Chocolate L_Gris L_Verde L_Naranja
## 1              0       1        0        0           0      0       0         0
## 2              1       1        0        0           0      0       0         0
## 3              1       0        1        0           0      0       0         0
## 4              0       0        1        0           0      0       0         0
## 5              1       1        0        0           0      0       0         0
## 6              1       0        1        0           0      0       0         0
##   L_Rosa L_Morado L_Rojo L_Blanco L_Amarillo Agrandado/Afilado TR_bulboso
## 1      0        0      0        0          0                 1          0
## 2      0        0      0        0          0                 1          0
## 3      0        0      0        0          0                 1          0
## 4      0        0      0        0          0                 1          0
## 5      0        0      0        0          0                 0          0
## 6      0        0      0        0          0                 1          0
##   TR_club TR_copa TR_igual TR_rizomorfos TR_enraizado TR_faltante ST1_Fibroso
## 1       0       0        1             0            0           0           0
## 2       1       0        0             0            0           0           0
## 3       1       0        0             0            0           0           0
## 4       0       0        1             0            0           0           0
## 5       0       0        1             0            0           0           0
## 6       1       0        0             0            0           0           0
##   ST1_Escamoso ST1_Sedoso ST1_Liso ST2_Fibroso ST2_Escamoso ST2_Sedoso ST2_Liso
## 1            0          0        1           0            0          0        1
## 2            0          0        1           0            0          0        1
## 3            0          0        1           0            0          0        1
## 4            0          0        1           0            0          0        1
## 5            0          0        1           0            0          0        1
## 6            0          0        1           0            0          0        1
##   CT1_marron CT1_ante CT1_canela CT1_gris CT1_naranja CT1_rosa CT1_rojo
## 1          0        0          0        0           0        0        0
## 2          0        0          0        0           0        0        0
## 3          0        0          0        0           0        0        0
## 4          0        0          0        0           0        0        0
## 5          0        0          0        0           0        0        0
## 6          0        0          0        0           0        0        0
##   CT1_blanco CT1_amarillo CT2_marron CT2_ante CT2_canela CT2_gris CT2_naranja
## 1          1            0          0        0          0        0           0
## 2          1            0          0        0          0        0           0
## 3          1            0          0        0          0        0           0
## 4          1            0          0        0          0        0           0
## 5          1            0          0        0          0        0           0
## 6          1            0          0        0          0        0           0
##   CT2_rosa CT2_rojo CT2_blanco CT2_amarillo V_Marrón V_Naranja V_Blanco
## 1        0        0          1            0        0         0        1
## 2        0        0          1            0        0         0        1
## 3        0        0          1            0        0         0        1
## 4        0        0          1            0        0         0        1
## 5        0        0          1            0        0         0        1
## 6        0        0          1            0        0         0        1
##   V_Amarillo NA_0 NA_1 NA_2 TA_Telaraña TA_Evanescente TA_Abocinado TA_Grande
## 1          0    0    1    0           0              0            0         0
## 2          0    0    1    0           0              0            0         0
## 3          0    0    1    0           0              0            0         0
## 4          0    0    1    0           0              0            0         0
## 5          0    0    1    0           0              1            0         0
## 6          0    0    1    0           0              0            0         0
##   TA_Ninguno TA_Colgante TA_Revestimiento TA_Zona CE_negro CE_marron CE_ante
## 1          0           1                0       0        1         0       0
## 2          0           1                0       0        0         1       0
## 3          0           1                0       0        0         1       0
## 4          0           1                0       0        1         0       0
## 5          0           0                0       0        0         1       0
## 6          0           1                0       0        1         0       0
##   CE_chocolate CE_verde CE_naranja CE_morado CE_blanco CE_amarillo Abundante
## 1            0        0          0         0         0           0         0
## 2            0        0          0         0         0           0         0
## 3            0        0          0         0         0           0         0
## 4            0        0          0         0         0           0         0
## 5            0        0          0         0         0           0         1
## 6            0        0          0         0         0           0         0
##   Agrupada Numerosa Dispersa Varias Solitaria Bosques Pastos Hojas Prados
## 1        0        0        1      0         0       0      0     0      0
## 2        0        1        0      0         0       0      1     0      0
## 3        0        1        0      0         0       0      0     0      1
## 4        0        0        1      0         0       0      0     0      0
## 5        0        0        0      0         0       0      1     0      0
## 6        0        1        0      0         0       0      1     0      0
##   Caminos Urbano Desechos
## 1       0      1        0
## 2       0      0        0
## 3       0      0        0
## 4       0      1        0
## 5       0      0        0
## 6       0      0        0</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="preprocesado-de-datos..html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Dimensión</span></span>
<span id="cb13-2"><a href="preprocesado-de-datos..html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(setas)</span></code></pre></div>
<pre><code>## [1] 8124  117</code></pre>
<div id="particiones." class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Particiones.</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="preprocesado-de-datos..html#cb15-1" aria-hidden="true" tabindex="-1"></a>n_totales<span class="ot">=</span><span class="fu">dim</span>(datos.setas)[<span class="dv">1</span>]</span>
<span id="cb15-2"><a href="preprocesado-de-datos..html#cb15-2" aria-hidden="true" tabindex="-1"></a>n_train<span class="ot">=</span><span class="fu">floor</span>(n_totales<span class="sc">*</span><span class="fl">0.6</span>) <span class="co"># el 60% de los datos los utilizamos para entrenar los modelos</span></span>
<span id="cb15-3"><a href="preprocesado-de-datos..html#cb15-3" aria-hidden="true" tabindex="-1"></a>n_test<span class="ot">=</span><span class="fu">floor</span>(n_totales<span class="sc">*</span><span class="fl">0.2</span>) <span class="co"># el 20% para test</span></span>
<span id="cb15-4"><a href="preprocesado-de-datos..html#cb15-4" aria-hidden="true" tabindex="-1"></a>n_validacion<span class="ot">=</span>n_totales<span class="sc">-</span>n_train<span class="sc">-</span>n_test</span>
<span id="cb15-5"><a href="preprocesado-de-datos..html#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="preprocesado-de-datos..html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">34735</span>)</span>
<span id="cb15-7"><a href="preprocesado-de-datos..html#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="preprocesado-de-datos..html#cb15-8" aria-hidden="true" tabindex="-1"></a>indices_totales<span class="ot">=</span><span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span>n_totales)</span>
<span id="cb15-9"><a href="preprocesado-de-datos..html#cb15-9" aria-hidden="true" tabindex="-1"></a>indices_train<span class="ot">=</span><span class="fu">sort</span>(<span class="fu">sample</span>(indices_totales,n_train))</span>
<span id="cb15-10"><a href="preprocesado-de-datos..html#cb15-10" aria-hidden="true" tabindex="-1"></a>indices_test<span class="ot">=</span><span class="fu">sort</span>(<span class="fu">sample</span>(indices_totales[<span class="sc">-</span>indices_train],n_test))</span>
<span id="cb15-11"><a href="preprocesado-de-datos..html#cb15-11" aria-hidden="true" tabindex="-1"></a>indices_validacion<span class="ot">=</span>indices_totales[<span class="sc">-</span><span class="fu">c</span>(indices_train,indices_test)]</span>
<span id="cb15-12"><a href="preprocesado-de-datos..html#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="preprocesado-de-datos..html#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="preprocesado-de-datos..html#cb15-14" aria-hidden="true" tabindex="-1"></a>setas_train<span class="ot">=</span>setas[indices_train,]</span>
<span id="cb15-15"><a href="preprocesado-de-datos..html#cb15-15" aria-hidden="true" tabindex="-1"></a>setas_test<span class="ot">=</span>setas[indices_test,]</span>
<span id="cb15-16"><a href="preprocesado-de-datos..html#cb15-16" aria-hidden="true" tabindex="-1"></a>setas_validacion<span class="ot">=</span>setas[indices_validacion,]</span></code></pre></div>
</div>
<div id="eda.-exploratory-data-analysis." class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> EDA. Exploratory Data Analysis.</h2>
<div id="letalidad" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Letalidad:</h3>
<p>La variable <strong>letalidad</strong> tiene dos niveles distintos, venenosa (p) o comestible (e), la frecuencia relativa correspondiente a nuestros datos es:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="preprocesado-de-datos..html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla:</span></span>
<span id="cb16-2"><a href="preprocesado-de-datos..html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(setas_train<span class="sc">$</span>Venenosas)</span></code></pre></div>
<pre><code>## 
##    0    1 
## 2522 2352</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="preprocesado-de-datos..html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias:</span></span>
<span id="cb18-2"><a href="preprocesado-de-datos..html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(setas_train<span class="sc">$</span>Venenosas))</span></code></pre></div>
<pre><code>## 
##         0         1 
## 0.5174395 0.4825605</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="preprocesado-de-datos..html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico</span></span>
<span id="cb20-2"><a href="preprocesado-de-datos..html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(setas_train<span class="sc">$</span>Venenosas),<span class="at">main=</span><span class="st">&quot;Letalidad&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>),<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Comestible&quot;</span>,<span class="st">&quot;Venenosa&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/proporcion-1.png" width="672" /></p>
</div>
</div>
<div id="correlación-entre-las-variables." class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Correlación entre las variables.</h2>
<p>Vamos a comprobar si existe alguna correlación entre las distintas variables.</p>
<div id="forma-del-sombrero-forma_s" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Forma del sombrero (Forma_S)</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="preprocesado-de-datos..html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~forma del sombrero</span></span>
<span id="cb21-2"><a href="preprocesado-de-datos..html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_S)</span></code></pre></div>
<pre><code>##    
##        b    c    f    k    s    x
##   e  404    0 1596  228   32 1948
##   p   48    4 1556  600    0 1708</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="preprocesado-de-datos..html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~forma del sombrero</span></span>
<span id="cb23-2"><a href="preprocesado-de-datos..html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_S),<span class="at">main=</span><span class="st">&quot;Letalidad vs Forma del sombrero&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Forma&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Campana&quot;</span>, <span class="st">&quot;Cónica&quot;</span>, <span class="st">&quot;Plana&quot;</span>, <span class="st">&quot;Nudosa&quot;</span>, <span class="st">&quot;Hundida&quot;</span>, <span class="st">&quot;Convexa&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/forma%20del%20sombrero-1.png" width="672" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="preprocesado-de-datos..html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb24-2"><a href="preprocesado-de-datos..html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_S))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Forma_S)
## X-squared = 489.92, df = 5, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="cutícula" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Cutícula</h3>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="preprocesado-de-datos..html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~cuticula</span></span>
<span id="cb26-2"><a href="preprocesado-de-datos..html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Cuticula)</span></code></pre></div>
<pre><code>##    
##        f    g    s    y
##   e 1560    0 1144 1504
##   p  760    4 1412 1740</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="preprocesado-de-datos..html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~cuticula</span></span>
<span id="cb28-2"><a href="preprocesado-de-datos..html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Cuticula),<span class="at">main=</span><span class="st">&quot;Letalidad vs Cuticula&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Cuticula&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Fibroso&quot;</span>, <span class="st">&quot;Con surcos&quot;</span>, <span class="st">&quot;Lisa&quot;</span>, <span class="st">&quot;Escamosa&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/cuticula-1.png" width="672" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="preprocesado-de-datos..html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb29-2"><a href="preprocesado-de-datos..html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Cuticula))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Cuticula)
## X-squared = 315.04, df = 3, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="color-del-sombrero-color_s" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Color del sombrero (Color_S)</h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="preprocesado-de-datos..html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~color del sombrero</span></span>
<span id="cb31-2"><a href="preprocesado-de-datos..html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_S)</span></code></pre></div>
<pre><code>##    
##        b    c    e    g    n    p    r    u    w    y
##   e   48   32  624 1032 1264   56   16   16  720  400
##   p  120   12  876  808 1020   88    0    0  320  672</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="preprocesado-de-datos..html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~color del sombrero</span></span>
<span id="cb33-2"><a href="preprocesado-de-datos..html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_S),<span class="at">main=</span><span class="st">&quot;Letalidad vs Color del sombrero&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Color&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Ante&quot;</span>, <span class="st">&quot;Canela&quot;</span>, <span class="st">&quot;Rojo&quot;</span>, <span class="st">&quot;Gris&quot;</span>,<span class="st">&quot;Marrón&quot;</span>,<span class="st">&quot;Rosa&quot;</span>,<span class="st">&quot;Verde&quot;</span>,<span class="st">&quot;Morado&quot;</span>,<span class="st">&quot;Blanco&quot;</span>,<span class="st">&quot;Amarillo&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/color%20del%20sombrero-1.png" width="672" /></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="preprocesado-de-datos..html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb34-2"><a href="preprocesado-de-datos..html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_S))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Color_S)
## X-squared = 387.6, df = 9, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="escamas" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Escamas</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="preprocesado-de-datos..html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~escamas</span></span>
<span id="cb36-2"><a href="preprocesado-de-datos..html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Escamas)</span></code></pre></div>
<pre><code>##    
##        f    t
##   e 1456 2752
##   p 3292  624</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="preprocesado-de-datos..html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~escamas</span></span>
<span id="cb38-2"><a href="preprocesado-de-datos..html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Escamas),<span class="at">main=</span><span class="st">&quot;Letalidad vs Escamas&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Escamas&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Sin escamas&quot;</span>, <span class="st">&quot;Con escamas&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/escamas-1.png" width="672" /></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="preprocesado-de-datos..html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb39-2"><a href="preprocesado-de-datos..html#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Escamas))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  table(datos.setas$Letalidad, datos.setas$Escamas)
## X-squared = 2041.4, df = 1, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="olor" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Olor</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="preprocesado-de-datos..html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~olor</span></span>
<span id="cb41-2"><a href="preprocesado-de-datos..html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Olor)</span></code></pre></div>
<pre><code>##    
##        a    c    f    l    m    n    p    s    y
##   e  400    0    0  400    0 3408    0    0    0
##   p    0  192 2160    0   36  120  256  576  576</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="preprocesado-de-datos..html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~olor</span></span>
<span id="cb43-2"><a href="preprocesado-de-datos..html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Olor),<span class="at">main=</span><span class="st">&quot;Letalidad vs Olor&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Olor&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Almendra&quot;</span>, <span class="st">&quot;Creosota&quot;</span>,<span class="st">&quot;Asqueroso&quot;</span>,<span class="st">&quot;Anís&quot;</span>,<span class="st">&quot;Mohoso&quot;</span>,<span class="st">&quot;Ninguno&quot;</span>,<span class="st">&quot;Acre&quot;</span>,<span class="st">&quot;Picante&quot;</span>,<span class="st">&quot;Pescado&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/olor%20setas-1.png" width="672" /></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="preprocesado-de-datos..html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb44-2"><a href="preprocesado-de-datos..html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Olor))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Olor)
## X-squared = 7659.7, df = 8, p-value &lt; 2.2e-16</code></pre>
<p>Podemos observar que la variable <strong>olor</strong> se distribuye entre los distintos tipos de olor de forma binaria, es decir, todas las setas que presentan un olor del tipo <em>creosota, asqueroso, mohoso, acre, picante o pesacado</em> son venenosas mientras que si presentan un olor del tipo <em>almendar, anís </em> son comestibles, mientras que si es <em>ninguno</em> el olor tienes una proporción de 97% de que sea comestible.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="preprocesado-de-datos..html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según olor sea ninguno</span></span>
<span id="cb46-2"><a href="preprocesado-de-datos..html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Olor)[,<span class="dv">6</span>])</span></code></pre></div>
<pre><code>##          e          p 
## 0.96598639 0.03401361</code></pre>
<p>Entonces modríamos cambiar la codificación hecha anteriormente y tener solo una variable codificada de forma binaria de tal forma que para los olores que producen que la seta sea venenosa darles el valor 1 y para los que no, darles el valor 0.</p>
</div>
<div id="fijación-de-las-láminas-fijacion_l" class="section level3" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> Fijación de las láminas (Fijacion_L)</h3>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="preprocesado-de-datos..html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~fijación de las láminas</span></span>
<span id="cb48-2"><a href="preprocesado-de-datos..html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Fijacion_L)</span></code></pre></div>
<pre><code>##    
##        a    f
##   e  192 4016
##   p   18 3898</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="preprocesado-de-datos..html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~fijación de las láminas</span></span>
<span id="cb50-2"><a href="preprocesado-de-datos..html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Fijacion_L),<span class="at">main=</span><span class="st">&quot;Letalidad vs Fijación de las láminas&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Fijación&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Adjunto&quot;</span>, <span class="st">&quot;Libre&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/fijacion-1.png" width="672" /></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="preprocesado-de-datos..html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb51-2"><a href="preprocesado-de-datos..html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Fijacion_L))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  table(datos.setas$Letalidad, datos.setas$Fijacion_L)
## X-squared = 133.99, df = 1, p-value &lt; 2.2e-16</code></pre>
<p>Podemos ver que la proporción de que la seta sea venenosa o comestible según la fijación de las láminas en el caso de que estén libre es casi del 50% mientras que si están adjuntas la proporción cambia a un 94% frente a un 6%, comestible o venenosa, respectivamente.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="preprocesado-de-datos..html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según fijacion sea adjunto</span></span>
<span id="cb53-2"><a href="preprocesado-de-datos..html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Fijacion_L)[,<span class="dv">1</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##         e         p 
## 91.428571  8.571429</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="preprocesado-de-datos..html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según fijacion sea libre</span></span>
<span id="cb55-2"><a href="preprocesado-de-datos..html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Fijacion_L)[,<span class="dv">2</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##        e        p 
## 50.74551 49.25449</code></pre>
</div>
<div id="espacio-entre-láminas-espacio_l" class="section level3" number="4.3.7">
<h3><span class="header-section-number">4.3.7</span> Espacio entre láminas (Espacio_L)</h3>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="preprocesado-de-datos..html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~espacio entre láminas</span></span>
<span id="cb57-2"><a href="preprocesado-de-datos..html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Espacio_L)</span></code></pre></div>
<pre><code>##    
##        c    w
##   e 3008 1200
##   p 3804  112</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="preprocesado-de-datos..html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~espacio entre láminas</span></span>
<span id="cb59-2"><a href="preprocesado-de-datos..html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Espacio_L),<span class="at">main=</span><span class="st">&quot;Letalidad vs Espacio entre láminas&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Espacio&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Cerca&quot;</span>, <span class="st">&quot;Atestado&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/espacio-1.png" width="672" /></p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="preprocesado-de-datos..html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb60-2"><a href="preprocesado-de-datos..html#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Espacio_L))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  table(datos.setas$Letalidad, datos.setas$Espacio_L)
## X-squared = 984.14, df = 1, p-value &lt; 2.2e-16</code></pre>
<p>Podemos ver que ocurre algo parecido que en la variable <strong>fijacion_L</strong>, la proporción de que la seta sea venenosa o comestible según el espacio entre las láminas en el caso de que estén cerca es casi del 50% mientras que si están atestado la proporción cambia a un 92% frente a un 8%, comestible o venenosa, respectivamente.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="preprocesado-de-datos..html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según espacio sea cerca</span></span>
<span id="cb62-2"><a href="preprocesado-de-datos..html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Espacio_L)[,<span class="dv">1</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##        e        p 
## 44.15737 55.84263</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="preprocesado-de-datos..html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según espacio sea atestado</span></span>
<span id="cb64-2"><a href="preprocesado-de-datos..html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Espacio_L)[,<span class="dv">2</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##         e         p 
## 91.463415  8.536585</code></pre>
</div>
<div id="tamaño-de-las-láminas-tamaño_l" class="section level3" number="4.3.8">
<h3><span class="header-section-number">4.3.8</span> Tamaño de las láminas (Tamaño_L)</h3>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="preprocesado-de-datos..html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~tamaño de las láminas</span></span>
<span id="cb66-2"><a href="preprocesado-de-datos..html#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tamaño_L)</span></code></pre></div>
<pre><code>##    
##        b    n
##   e 3920  288
##   p 1692 2224</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="preprocesado-de-datos..html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~tamaño de las láminas</span></span>
<span id="cb68-2"><a href="preprocesado-de-datos..html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tamaño_L),<span class="at">main=</span><span class="st">&quot;Letalidad vs Tamaño de las láminas&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Tamaño&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Ancho&quot;</span>, <span class="st">&quot;Estrecho&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/tamaño-1.png" width="672" /></p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="preprocesado-de-datos..html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb69-2"><a href="preprocesado-de-datos..html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tamaño_L))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  table(datos.setas$Letalidad, datos.setas$Tamaño_L)
## X-squared = 2366.8, df = 1, p-value &lt; 2.2e-16</code></pre>
<p>Podemos ver que la proporción de que la seta sea venenosa o comestible según el tamaño de las láminas en el caso de que sea ancha es del 30% frente a 70%, respectivamente, mientras que si es estrecho la proporción cambia a un 11.5% frente a un 88.5%, respectivamente.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="preprocesado-de-datos..html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según tamaño sea ancho</span></span>
<span id="cb71-2"><a href="preprocesado-de-datos..html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tamaño_L)[,<span class="dv">1</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##        e        p 
## 69.85032 30.14968</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="preprocesado-de-datos..html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según tamaño sea estrecho</span></span>
<span id="cb73-2"><a href="preprocesado-de-datos..html#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tamaño_L)[,<span class="dv">2</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##        e        p 
## 11.46497 88.53503</code></pre>
</div>
<div id="color-de-las-láminas-color_l" class="section level3" number="4.3.9">
<h3><span class="header-section-number">4.3.9</span> Color de las láminas (Color_L)</h3>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="preprocesado-de-datos..html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~color de las láminas</span></span>
<span id="cb75-2"><a href="preprocesado-de-datos..html#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_L)</span></code></pre></div>
<pre><code>##    
##        b    e    g    h    k    n    o    p    r    u    w    y
##   e    0   96  248  204  344  936   64  852    0  444  956   64
##   p 1728    0  504  528   64  112    0  640   24   48  246   22</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="preprocesado-de-datos..html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~color de las láminas</span></span>
<span id="cb77-2"><a href="preprocesado-de-datos..html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_L),<span class="at">main=</span><span class="st">&quot;Letalidad vs Color de las láminas&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Color&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Ante&quot;</span>, <span class="st">&quot;Rojo&quot;</span>,<span class="st">&quot;Gris&quot;</span>,<span class="st">&quot;Chocolate&quot;</span>,<span class="st">&quot;Negro&quot;</span>,<span class="st">&quot;Marrón&quot;</span>,<span class="st">&quot;Naranja&quot;</span>,<span class="st">&quot;Rosa&quot;</span>,<span class="st">&quot;Verde&quot;</span>,<span class="st">&quot;Morado&quot;</span>,<span class="st">&quot;Blanco&quot;</span>,<span class="st">&quot;Amarillo&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/color%20laminas-1.png" width="672" /></p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="preprocesado-de-datos..html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb78-2"><a href="preprocesado-de-datos..html#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_L))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Color_L)
## X-squared = 3765.7, df = 11, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="forma-del-tallo-forma_t" class="section level3" number="4.3.10">
<h3><span class="header-section-number">4.3.10</span> Forma del tallo (Forma_T)</h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="preprocesado-de-datos..html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~forma del tallo</span></span>
<span id="cb80-2"><a href="preprocesado-de-datos..html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_T)</span></code></pre></div>
<pre><code>##    
##        e    t
##   e 1616 2592
##   p 1900 2016</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="preprocesado-de-datos..html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~forma del tallo</span></span>
<span id="cb82-2"><a href="preprocesado-de-datos..html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_T),<span class="at">main=</span><span class="st">&quot;Letalidad vs Forma del tallo&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Tallo&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Agrandado&quot;</span>, <span class="st">&quot;Afilado&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/forma%20tallo-1.png" width="672" /></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="preprocesado-de-datos..html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb83-2"><a href="preprocesado-de-datos..html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_T))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  table(datos.setas$Letalidad, datos.setas$Forma_T)
## X-squared = 84.142, df = 1, p-value &lt; 2.2e-16</code></pre>
<p>Podemos ver que la proporción de que la seta sea venenosa o comestible según el forma del tallo es casi del 50% en ambos formas del tallo</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="preprocesado-de-datos..html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según forma sea agrandado</span></span>
<span id="cb85-2"><a href="preprocesado-de-datos..html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_T)[,<span class="dv">1</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##        e        p 
## 45.96132 54.03868</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="preprocesado-de-datos..html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción según forma sea afilado</span></span>
<span id="cb87-2"><a href="preprocesado-de-datos..html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Forma_T)[,<span class="dv">2</span>])<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##     e     p 
## 56.25 43.75</code></pre>
</div>
<div id="tallo-raíz-tallo_raiz" class="section level3" number="4.3.11">
<h3><span class="header-section-number">4.3.11</span> Tallo-Raíz (Tallo_raiz)</h3>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="preprocesado-de-datos..html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~tallo-raiz</span></span>
<span id="cb89-2"><a href="preprocesado-de-datos..html#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tallo_raiz)</span></code></pre></div>
<pre><code>##    
##        ?    b    c    e    r
##   e  720 1920  512  864  192
##   p 1760 1856   44  256    0</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="preprocesado-de-datos..html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~tallo-raiz</span></span>
<span id="cb91-2"><a href="preprocesado-de-datos..html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tallo_raiz),<span class="at">main=</span><span class="st">&quot;Letalidad vs Tallo-Raiz&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Tallo-Raiz&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Faltante&quot;</span>, <span class="st">&quot;Bulboso&quot;</span>,<span class="st">&quot;Club&quot;</span>,<span class="st">&quot;Igual&quot;</span>,<span class="st">&quot;Enraizado&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/tallo%20raiz-1.png" width="672" /></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="preprocesado-de-datos..html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb92-2"><a href="preprocesado-de-datos..html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tallo_raiz))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Tallo_raiz)
## X-squared = 1344.4, df = 4, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="superficie-del-tallo-por-encima-del-anillo-superficie_t1" class="section level3" number="4.3.12">
<h3><span class="header-section-number">4.3.12</span> Superficie del tallo por encima del anillo (Superficie_T1)</h3>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="preprocesado-de-datos..html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~supercifie del tallo por encima del anillo</span></span>
<span id="cb94-2"><a href="preprocesado-de-datos..html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Superficie_T1)</span></code></pre></div>
<pre><code>##    
##        f    k    s    y
##   e  408  144 3640   16
##   p  144 2228 1536    8</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="preprocesado-de-datos..html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~superficie del tallo por encima del anillo</span></span>
<span id="cb96-2"><a href="preprocesado-de-datos..html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Superficie_T1),<span class="at">main=</span><span class="st">&quot;Letalidad vs Tallo por encima del anillo&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Superficie&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Fibroso&quot;</span>, <span class="st">&quot;Sedoso&quot;</span>,<span class="st">&quot;Liso&quot;</span>,<span class="st">&quot;Escamoso&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/superficie%20t1-1.png" width="672" /></p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="preprocesado-de-datos..html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb97-2"><a href="preprocesado-de-datos..html#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Superficie_T1))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Superficie_T1)
## X-squared = 2808.3, df = 3, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="superficie-del-tallo-por-debajo-del-anillo-superficie_t2" class="section level3" number="4.3.13">
<h3><span class="header-section-number">4.3.13</span> Superficie del tallo por debajo del anillo (Superficie_T2)</h3>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="preprocesado-de-datos..html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~supercifie del tallo por debajo del anillo</span></span>
<span id="cb99-2"><a href="preprocesado-de-datos..html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Superficie_T2)</span></code></pre></div>
<pre><code>##    
##        f    k    s    y
##   e  456  144 3400  208
##   p  144 2160 1536   76</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="preprocesado-de-datos..html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~superficie del tallo por debajo del anillo</span></span>
<span id="cb101-2"><a href="preprocesado-de-datos..html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Superficie_T2),<span class="at">main=</span><span class="st">&quot;Letalidad vs Tallo por debajo del anillo&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Superficie&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Fibroso&quot;</span>, <span class="st">&quot;Sedoso&quot;</span>,<span class="st">&quot;Liso&quot;</span>,<span class="st">&quot;Escamoso&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/superficie%20t2-1.png" width="672" /></p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="preprocesado-de-datos..html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb102-2"><a href="preprocesado-de-datos..html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Superficie_T2))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Superficie_T2)
## X-squared = 2684.5, df = 3, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="color-del-tallo-por-encima-del-anillo-color_t1" class="section level3" number="4.3.14">
<h3><span class="header-section-number">4.3.14</span> Color del tallo por encima del anillo (Color_T1)</h3>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="preprocesado-de-datos..html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~color del tallo por encima del anillo</span></span>
<span id="cb104-2"><a href="preprocesado-de-datos..html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_T1)</span></code></pre></div>
<pre><code>##    
##        b    c    e    g    n    o    p    w    y
##   e    0    0   96  576   16  192  576 2752    0
##   p  432   36    0    0  432    0 1296 1712    8</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="preprocesado-de-datos..html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~color del tallo por encima del anillo</span></span>
<span id="cb106-2"><a href="preprocesado-de-datos..html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_T1),<span class="at">main=</span><span class="st">&quot;Letalidad vs Tallo por encima del anillos&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Color&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Ante&quot;</span>, <span class="st">&quot;Canela&quot;</span>,<span class="st">&quot;Rojo&quot;</span>,<span class="st">&quot;Gris&quot;</span>,<span class="st">&quot;Marrón&quot;</span>,<span class="st">&quot;Naranja&quot;</span>,<span class="st">&quot;Rosa&quot;</span>,<span class="st">&quot;Blanco&quot;</span>,<span class="st">&quot;Amarillo&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/color%20t1-1.png" width="672" /></p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="preprocesado-de-datos..html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb107-2"><a href="preprocesado-de-datos..html#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_T1))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Color_T1)
## X-squared = 2237.9, df = 8, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="color-del-tallo-por-debajo-del-anillo-color_t2" class="section level3" number="4.3.15">
<h3><span class="header-section-number">4.3.15</span> Color del tallo por debajo del anillo (Color_T2)</h3>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="preprocesado-de-datos..html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~color del tallo por debajo del anillo</span></span>
<span id="cb109-2"><a href="preprocesado-de-datos..html#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_T2)</span></code></pre></div>
<pre><code>##    
##        b    c    e    g    n    o    p    w    y
##   e    0    0   96  576   64  192  576 2704    0
##   p  432   36    0    0  448    0 1296 1680   24</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="preprocesado-de-datos..html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~color del tallo por debajo del anillo</span></span>
<span id="cb111-2"><a href="preprocesado-de-datos..html#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_T2),<span class="at">main=</span><span class="st">&quot;Letalidad vs Tallo por debajo del anillos&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Color&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Ante&quot;</span>, <span class="st">&quot;Canela&quot;</span>,<span class="st">&quot;Rojo&quot;</span>,<span class="st">&quot;Gris&quot;</span>,<span class="st">&quot;Marrón&quot;</span>,<span class="st">&quot;Naranja&quot;</span>,<span class="st">&quot;Rosa&quot;</span>,<span class="st">&quot;Blanco&quot;</span>,<span class="st">&quot;Amarillo&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/color%20t2-1.png" width="672" /></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="preprocesado-de-datos..html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb112-2"><a href="preprocesado-de-datos..html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_T2))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Color_T2)
## X-squared = 2152.4, df = 8, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="color-del-volva-color_v" class="section level3" number="4.3.16">
<h3><span class="header-section-number">4.3.16</span> Color del volva (Color_V)</h3>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="preprocesado-de-datos..html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~color del volva</span></span>
<span id="cb114-2"><a href="preprocesado-de-datos..html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_V)</span></code></pre></div>
<pre><code>##    
##        n    o    w    y
##   e   96   96 4016    0
##   p    0    0 3908    8</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="preprocesado-de-datos..html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~color del volva</span></span>
<span id="cb116-2"><a href="preprocesado-de-datos..html#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_V),<span class="at">main=</span><span class="st">&quot;Letalidad vs Volva&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Color&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Marrón&quot;</span>, <span class="st">&quot;Naranja&quot;</span>,<span class="st">&quot;Blanco&quot;</span>,<span class="st">&quot;Amarillo&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/color%20volva-1.png" width="672" /></p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="preprocesado-de-datos..html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb117-2"><a href="preprocesado-de-datos..html#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_V))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Color_V)
## X-squared = 191.22, df = 3, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="número-de-anillos-n_anillos" class="section level3" number="4.3.17">
<h3><span class="header-section-number">4.3.17</span> Número de anillos (N_anillos)</h3>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="preprocesado-de-datos..html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~numero de anillos</span></span>
<span id="cb119-2"><a href="preprocesado-de-datos..html#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>N_anillos)</span></code></pre></div>
<pre><code>##    
##        n    o    t
##   e    0 3680  528
##   p   36 3808   72</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="preprocesado-de-datos..html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~numero de anillos</span></span>
<span id="cb121-2"><a href="preprocesado-de-datos..html#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>N_anillos),<span class="at">main=</span><span class="st">&quot;Letalidad vs Anillos&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Número&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Ninguno&quot;</span>, <span class="st">&quot;Uno&quot;</span>,<span class="st">&quot;Dos&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/numero%20anillos-1.png" width="672" /></p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="preprocesado-de-datos..html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb122-2"><a href="preprocesado-de-datos..html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>N_anillos))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$N_anillos)
## X-squared = 374.74, df = 2, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="tipo-de-anillo-tipo_anillo" class="section level3" number="4.3.18">
<h3><span class="header-section-number">4.3.18</span> Tipo de anillo (Tipo_anillo)</h3>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="preprocesado-de-datos..html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~tipo de anillo</span></span>
<span id="cb124-2"><a href="preprocesado-de-datos..html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tipo_anillo)</span></code></pre></div>
<pre><code>##    
##        e    f    l    n    p
##   e 1008   48    0    0 3152
##   p 1768    0 1296   36  816</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="preprocesado-de-datos..html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~tipo de anillo</span></span>
<span id="cb126-2"><a href="preprocesado-de-datos..html#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tipo_anillo),<span class="at">main=</span><span class="st">&quot;Letalidad vs Anillo&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Tipo&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Evanescente&quot;</span>, <span class="st">&quot;Abocinado&quot;</span>,<span class="st">&quot;Grande&quot;</span>,<span class="st">&quot;Ninguno&quot;</span>,<span class="st">&quot;Colgante&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/tipo%20anillos-1.png" width="672" /></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="preprocesado-de-datos..html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb127-2"><a href="preprocesado-de-datos..html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Tipo_anillo))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Tipo_anillo)
## X-squared = 2956.6, df = 4, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="color-de-las-esporas" class="section level3" number="4.3.19">
<h3><span class="header-section-number">4.3.19</span> Color de las esporas</h3>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="preprocesado-de-datos..html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~color de las esporas</span></span>
<span id="cb129-2"><a href="preprocesado-de-datos..html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_esporas)</span></code></pre></div>
<pre><code>##    
##        b    h    k    n    o    r    u    w    y
##   e   48   48 1648 1744   48    0   48  576   48
##   p    0 1584  224  224    0   72    0 1812    0</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="preprocesado-de-datos..html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~color de las esporas</span></span>
<span id="cb131-2"><a href="preprocesado-de-datos..html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_esporas),<span class="at">main=</span><span class="st">&quot;Letalidad vs Esporas&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Color&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;Ante&quot;</span>, <span class="st">&quot;Chocolate&quot;</span>,<span class="st">&quot;Negro&quot;</span>,<span class="st">&quot;Marrón&quot;</span>,<span class="st">&quot;Naranja&quot;</span>,<span class="st">&quot;Verde&quot;</span>,<span class="st">&quot;Morado&quot;</span>,<span class="st">&quot;Blanco&quot;</span>,<span class="st">&quot;Amarillo&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/color%20esporas-1.png" width="672" /></p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="preprocesado-de-datos..html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test de independencia:</span></span>
<span id="cb132-2"><a href="preprocesado-de-datos..html#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Color_esporas))</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(datos.setas$Letalidad, datos.setas$Color_esporas)
## X-squared = 4602, df = 8, p-value &lt; 2.2e-16</code></pre>
<p>Podemos observar que aquellas setas que tengan el color de las esporas <em>ante, naranja, morado o amarillo</em> son comestibles.</p>
</div>
<div id="población" class="section level3" number="4.3.20">
<h3><span class="header-section-number">4.3.20</span> Población</h3>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="preprocesado-de-datos..html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~poblacion</span></span>
<span id="cb134-2"><a href="preprocesado-de-datos..html#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Poblacion)</span></code></pre></div>
<pre><code>##    
##        a    c    n    s    v    y
##   e  384  288  400  880 1192 1064
##   p    0   52    0  368 2848  648</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="preprocesado-de-datos..html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~poblacion</span></span>
<span id="cb136-2"><a href="preprocesado-de-datos..html#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Poblacion),<span class="at">main=</span><span class="st">&quot;Letalidad&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Poblacion&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;abundante&quot;</span>, <span class="st">&quot;agrupada&quot;</span>, <span class="st">&quot;numerosa&quot;</span>, <span class="st">&quot;dispersa&quot;</span>, <span class="st">&quot;varias&quot;</span>, <span class="st">&quot;solitaria&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/poblacion-1.png" width="672" /></p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="preprocesado-de-datos..html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co">#legend(x = &quot;topright&quot;, legend = c(&quot;Comestible&quot;,&quot;Venenosa&quot;), fill = c(&quot;blue&quot;, &quot;magenta&quot;))</span></span></code></pre></div>
</div>
<div id="habitat" class="section level3" number="4.3.21">
<h3><span class="header-section-number">4.3.21</span> Habitat</h3>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="preprocesado-de-datos..html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Tabla de frecuencias letalidad~habitat</span></span>
<span id="cb138-2"><a href="preprocesado-de-datos..html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Habitat)</span></code></pre></div>
<pre><code>##    
##        d    g    l    m    p    u    w
##   e 1880 1408  240  256  136   96  192
##   p 1268  740  592   36 1008  272    0</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="preprocesado-de-datos..html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico letalidad~habitat</span></span>
<span id="cb140-2"><a href="preprocesado-de-datos..html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos.setas<span class="sc">$</span>Letalidad,datos.setas<span class="sc">$</span>Habitat),<span class="at">main=</span><span class="st">&quot;Letalidad&quot;</span>,<span class="at">xlab=</span><span class="st">&quot;Habitat&quot;</span>,<span class="at">ylab=</span><span class="st">&quot;Número de setas&quot;</span>,<span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;bosques&quot;</span>, <span class="st">&quot;pastos&quot;</span>, <span class="st">&quot;hojas&quot;</span>, <span class="st">&quot;prados&quot;</span>, <span class="st">&quot;caminos&quot;</span>, <span class="st">&quot;urbano&quot;</span>, <span class="st">&quot;desechos&quot;</span>),<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;magenta&quot;</span>))</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/habitat-1.png" width="672" /></p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="preprocesado-de-datos..html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co">#legend(x = &quot;topright&quot;, legend = c(&quot;Comestible&quot;,&quot;Venenosa&quot;), fill = c(&quot;blue&quot;, &quot;magenta&quot;))</span></span></code></pre></div>
</div>
</div>
<div id="componentes-principales" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Componentes principales</h2>
<div id="proceso-previo" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Proceso previo</h3>
<p>Dada la naturaleza de nuestros datos, no nos es posible usar las distancias euclideas como medida para comparar como de cerca están dos observaciones, por ellos debemos usar otras medidas de similitud. Para ello, usamos la siguiente tabla de contingencia:</p>
<table>
<thead>
<tr class="header">
<th>1</th>
<th>0</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>a</td>
<td>b</td>
</tr>
<tr class="even">
<td>0</td>
<td>c</td>
<td>d</td>
</tr>
</tbody>
</table>
<p>Hacemos un intento de calcular nuestra propia medida de similitud mediante un algoritmo, pero vemos que el proceso es muy largo debido a la dimensión de la matriz de los datos, por ellos buscamos alguna función predeterminada en R que sea capaz de hacerla.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="preprocesado-de-datos..html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co">#i observacion1, j observacion2, k caracteristica</span></span>
<span id="cb142-2"><a href="preprocesado-de-datos..html#cb142-2" aria-hidden="true" tabindex="-1"></a>i<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb142-3"><a href="preprocesado-de-datos..html#cb142-3" aria-hidden="true" tabindex="-1"></a>n<span class="ot">=</span><span class="fu">dim</span>(setas_train)[<span class="dv">1</span>]</span>
<span id="cb142-4"><a href="preprocesado-de-datos..html#cb142-4" aria-hidden="true" tabindex="-1"></a>k<span class="ot">=</span><span class="fu">dim</span>(setas_train)[<span class="dv">2</span>]</span>
<span id="cb142-5"><a href="preprocesado-de-datos..html#cb142-5" aria-hidden="true" tabindex="-1"></a>distancia_dice<span class="ot">=</span><span class="fu">diag</span>(n)</span>
<span id="cb142-6"><a href="preprocesado-de-datos..html#cb142-6" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(i<span class="sc">&lt;</span>n){</span>
<span id="cb142-7"><a href="preprocesado-de-datos..html#cb142-7" aria-hidden="true" tabindex="-1"></a>  j<span class="ot">=</span>i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb142-8"><a href="preprocesado-de-datos..html#cb142-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(j<span class="sc">&lt;=</span>n) {</span>
<span id="cb142-9"><a href="preprocesado-de-datos..html#cb142-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Calculo de similitud</span></span>
<span id="cb142-10"><a href="preprocesado-de-datos..html#cb142-10" aria-hidden="true" tabindex="-1"></a>    a<span class="ot">=</span><span class="fu">sum</span>(setas_train[i,<span class="dv">2</span><span class="sc">:</span>k]<span class="sc">*</span>setas_train[j,<span class="dv">2</span><span class="sc">:</span>k])</span>
<span id="cb142-11"><a href="preprocesado-de-datos..html#cb142-11" aria-hidden="true" tabindex="-1"></a>    d<span class="ot">=</span><span class="fu">sum</span>((<span class="dv">1</span><span class="sc">-</span>setas_train[i,<span class="dv">2</span><span class="sc">:</span>k])<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>setas_train[j,<span class="dv">2</span><span class="sc">:</span>k]))</span>
<span id="cb142-12"><a href="preprocesado-de-datos..html#cb142-12" aria-hidden="true" tabindex="-1"></a>    distancia_dice[i,j]<span class="ot">=</span>((<span class="dv">2</span><span class="sc">*</span>a)<span class="sc">/</span>(a<span class="sc">+</span>(k<span class="sc">-</span>d)))</span>
<span id="cb142-13"><a href="preprocesado-de-datos..html#cb142-13" aria-hidden="true" tabindex="-1"></a>    distancia_dice[j,i]<span class="ot">=</span>((<span class="dv">2</span><span class="sc">*</span>a)<span class="sc">/</span>(a<span class="sc">+</span>(k<span class="sc">-</span>d)))</span>
<span id="cb142-14"><a href="preprocesado-de-datos..html#cb142-14" aria-hidden="true" tabindex="-1"></a>    j<span class="ot">=</span>j<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb142-15"><a href="preprocesado-de-datos..html#cb142-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb142-16"><a href="preprocesado-de-datos..html#cb142-16" aria-hidden="true" tabindex="-1"></a>  i<span class="ot">=</span>i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb142-17"><a href="preprocesado-de-datos..html#cb142-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Encontramos la función <em>designdist()</em> que nos permite definir nuestra propia medida de similitud. La cebezara de está función será
<span class="math display">\[designdist(datos,metodo,abcd)\]</span>
donde <strong>datos</strong> es nuestra matriz codificada de forma binaria, <strong>metodo</strong> escribiremos la expresión de la medida de similitud que queramos y <strong>abcd=TRUE</strong> usa la tabla de contingencia para datos binarios.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="preprocesado-de-datos..html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">designdist</span>(setas_train[,<span class="dv">2</span><span class="sc">:</span><span class="dv">117</span>],<span class="st">&quot;(2*a)/(2*a+b+c)&quot;</span>,<span class="at">abcd=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>Finalmente nos decantaremos por la función <em>distance()</em> de la librería <strong><em>philentropy</em></strong>, a la cual debemos introducirle como parámetros la matriz con nuestros datos codificados y el método por el cual queremos calcular la distancia, en nuestro caso, utilizamos <em>method=“dice”</em>, cuya expresión matemática es exactamente:
<span class="math display">\[d = \dfrac{\sum(P_i − Q_i)^2}{(\sum P_i^2 + \sum Q_i^2)}\]</span></p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="preprocesado-de-datos..html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Distancia Dice</span></span>
<span id="cb144-2"><a href="preprocesado-de-datos..html#cb144-2" aria-hidden="true" tabindex="-1"></a>distancia_dice<span class="ot">=</span><span class="fu">distance</span>(setas_train[,<span class="dv">2</span><span class="sc">:</span><span class="dv">117</span>],<span class="at">method=</span><span class="st">&quot;dice&quot;</span>)</span></code></pre></div>
<pre><code>## Metric: &#39;dice&#39;; comparing: 4874 vectors.</code></pre>
<p>Una vez calculada nuestra medida de similitud, buscamos encontrar unos puntos que nos sirvan como referentes, para ellos calculamos una cierta cantidad de medoides que los hallaremos trabajando con particiones e intentan minimizar la distancia entre puntos de un grupo y otro punto designado como el centro de ese grupo. A diferencia de <em>kmeans()</em>, <em>fastkmed()</em> escoge como medoides puntos de los datos y trabaja con una métrica arbitraria de distancias.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="preprocesado-de-datos..html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cálculo de los medoides: </span></span>
<span id="cb146-2"><a href="preprocesado-de-datos..html#cb146-2" aria-hidden="true" tabindex="-1"></a>k50<span class="ot">=</span><span class="fu">fastkmed</span>(distancia_dice,<span class="at">ncluster=</span><span class="dv">50</span>)</span>
<span id="cb146-3"><a href="preprocesado-de-datos..html#cb146-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-4"><a href="preprocesado-de-datos..html#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción de los medoides:</span></span>
<span id="cb146-5"><a href="preprocesado-de-datos..html#cb146-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(setas_train<span class="sc">$</span>Venenosas[k50<span class="sc">$</span>medoid])</span></code></pre></div>
<pre><code>## 
##  0  1 
## 39 11</code></pre>
<p>Podemos ver que de los 50 medoides que hemos calculado, necesitamos 19 para explicar las setas no venenosas mientras que solo 11 para las venenosas. La proporción se mantiene cogiendo un número distinto de medoides, siendo entre un 70%-80% de los medoides setas no venenosas.</p>
<p>Con estos medoides podemos realizar un análisis de componente principales.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="preprocesado-de-datos..html#cb148-1" aria-hidden="true" tabindex="-1"></a>distancia_medoides<span class="ot">=</span>distancia_dice[k50<span class="sc">$</span>medoid,k50<span class="sc">$</span>medoid]</span>
<span id="cb148-2"><a href="preprocesado-de-datos..html#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Análisis Componentes principales:</span></span>
<span id="cb148-3"><a href="preprocesado-de-datos..html#cb148-3" aria-hidden="true" tabindex="-1"></a>pca<span class="fl">.50</span><span class="ot">=</span><span class="fu">prcomp</span>(distancia_medoides)</span>
<span id="cb148-4"><a href="preprocesado-de-datos..html#cb148-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca<span class="fl">.50</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/pca-1.png" width="672" /></p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="preprocesado-de-datos..html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca<span class="fl">.50</span><span class="sc">$</span>x,<span class="at">col=</span>setas_train<span class="sc">$</span>Venenosas[k50<span class="sc">$</span>medoid]<span class="sc">+</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/pca-2.png" width="672" />
Podemos ver como la variabilidad de los datos se explica mayoritariamente por la primera componente principal PC1, aunque nos quedaremos con las dos primeras.</p>
<p>En la otra gráfica, vemos como los medoides que se encuentra con un valor de <span class="math inline">\(PC1&lt;0\)</span> son setas no venenosas, si <span class="math inline">\(PC1&gt;1.5\)</span> las setas son venenosas, mientras que en el intervalo <span class="math inline">\(PC1\in(0,1.5)\)</span> tenemos setas venenosas y no venenosas.</p>
<p>Las dos gráficas siguientes son las mismas que la anterior, pero las realizamos para ver si algunos de los puntos está superpuesto por otro. Esto solo ocurre en un punto.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="preprocesado-de-datos..html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico:</span></span>
<span id="cb150-2"><a href="preprocesado-de-datos..html#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="do">##Indices de los medoides según toxicidad:</span></span>
<span id="cb150-3"><a href="preprocesado-de-datos..html#cb150-3" aria-hidden="true" tabindex="-1"></a>comestible<span class="ot">=</span><span class="fu">which</span>(setas_train[k50<span class="sc">$</span>medoid,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb150-4"><a href="preprocesado-de-datos..html#cb150-4" aria-hidden="true" tabindex="-1"></a>no.comestibles<span class="ot">=</span><span class="fu">which</span>(setas_train[k50<span class="sc">$</span>medoid,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb150-5"><a href="preprocesado-de-datos..html#cb150-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-6"><a href="preprocesado-de-datos..html#cb150-6" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb150-7"><a href="preprocesado-de-datos..html#cb150-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca<span class="fl">.50</span><span class="sc">$</span>x)</span>
<span id="cb150-8"><a href="preprocesado-de-datos..html#cb150-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca<span class="fl">.50</span><span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb150-9"><a href="preprocesado-de-datos..html#cb150-9" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca<span class="fl">.50</span><span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb150-10"><a href="preprocesado-de-datos..html#cb150-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca<span class="fl">.50</span><span class="sc">$</span>x)</span>
<span id="cb150-11"><a href="preprocesado-de-datos..html#cb150-11" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca<span class="fl">.50</span><span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb150-12"><a href="preprocesado-de-datos..html#cb150-12" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca<span class="fl">.50</span><span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/grafico%20pca%20alternativo-1.png" width="672" /></p>
<p>Pero trabajar solo con los 50 medoides podemos perder mucha información, por ellos rehacemos todo lo anterior pero ahora aplicaremos el análisis de componentes principales a la distancia de todas las observaciones con los 50 medoides.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="preprocesado-de-datos..html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Análsiis de componentes principales</span></span>
<span id="cb151-2"><a href="preprocesado-de-datos..html#cb151-2" aria-hidden="true" tabindex="-1"></a>pca.train<span class="ot">=</span><span class="fu">prcomp</span>(distancia_dice[,k50<span class="sc">$</span>medoid])</span>
<span id="cb151-3"><a href="preprocesado-de-datos..html#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%20a%20observaciones-1.png" width="672" /></p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="preprocesado-de-datos..html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train<span class="sc">$</span>x,<span class="at">col=</span>setas_train<span class="sc">$</span>Venenosas<span class="sc">+</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%20a%20observaciones-2.png" width="672" /></p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="preprocesado-de-datos..html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico alternativo</span></span>
<span id="cb153-2"><a href="preprocesado-de-datos..html#cb153-2" aria-hidden="true" tabindex="-1"></a>comestible<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb153-3"><a href="preprocesado-de-datos..html#cb153-3" aria-hidden="true" tabindex="-1"></a>no.comestibles<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb153-4"><a href="preprocesado-de-datos..html#cb153-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-5"><a href="preprocesado-de-datos..html#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb153-6"><a href="preprocesado-de-datos..html#cb153-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train<span class="sc">$</span>x,<span class="at">type=</span><span class="st">&quot;n&quot;</span>)</span>
<span id="cb153-7"><a href="preprocesado-de-datos..html#cb153-7" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb153-8"><a href="preprocesado-de-datos..html#cb153-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb153-9"><a href="preprocesado-de-datos..html#cb153-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train<span class="sc">$</span>x,<span class="at">type=</span><span class="st">&quot;n&quot;</span>)</span>
<span id="cb153-10"><a href="preprocesado-de-datos..html#cb153-10" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb153-11"><a href="preprocesado-de-datos..html#cb153-11" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%20a%20observaciones-3.png" width="672" /></p>
<p>Observamos algo bastante parecido a lo obtenido en el análisis anterior, dos zonas bastante bien diferenciadas y otra zona donde coinciden las stas venenosas y las comestibles. Luego podemos llegar a suponer que el número de cluster necesarios serían 5 como ocurría en el análisis anterior, pero vamos a probar con un número mayor de cluster para intentar clasificar lo mejor posible la nube de puntos de <span class="math inline">\(PC1\in(-1,2)\)</span> y <span class="math inline">\(PC2\in(-1,0.5)\)</span>.</p>
<p>Quizás no sean necesarios 50 medoides para realizar el análisis y podríamos obtener un resultado parecido con una cantidad menor. Por ello, vamos a probar a hacerlo pero con una cantidad más reducida de medoides. Tomamos un valor entre 10 y 20 medoides.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="preprocesado-de-datos..html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cálculo de los medoides: </span></span>
<span id="cb154-2"><a href="preprocesado-de-datos..html#cb154-2" aria-hidden="true" tabindex="-1"></a>k15<span class="ot">=</span><span class="fu">fastkmed</span>(distancia_dice,<span class="at">ncluster=</span><span class="dv">15</span>)</span>
<span id="cb154-3"><a href="preprocesado-de-datos..html#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción de los medoides:</span></span>
<span id="cb154-4"><a href="preprocesado-de-datos..html#cb154-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(setas_train<span class="sc">$</span>Venenosas[k15<span class="sc">$</span>medoid])</span></code></pre></div>
<pre><code>## 
##  0  1 
## 10  5</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="preprocesado-de-datos..html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Análsiis de componentes principales</span></span>
<span id="cb156-2"><a href="preprocesado-de-datos..html#cb156-2" aria-hidden="true" tabindex="-1"></a>pca.train15<span class="ot">=</span><span class="fu">prcomp</span>(distancia_dice[,k15<span class="sc">$</span>medoid])</span>
<span id="cb156-3"><a href="preprocesado-de-datos..html#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train15)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2015-1.png" width="672" /></p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="preprocesado-de-datos..html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train15<span class="sc">$</span>x,<span class="at">col=</span>setas_train<span class="sc">$</span>Venenosas<span class="sc">+</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2015-2.png" width="672" /></p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="preprocesado-de-datos..html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico alternativo</span></span>
<span id="cb158-2"><a href="preprocesado-de-datos..html#cb158-2" aria-hidden="true" tabindex="-1"></a>comestible<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb158-3"><a href="preprocesado-de-datos..html#cb158-3" aria-hidden="true" tabindex="-1"></a>no.comestibles<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb158-4"><a href="preprocesado-de-datos..html#cb158-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-5"><a href="preprocesado-de-datos..html#cb158-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb158-6"><a href="preprocesado-de-datos..html#cb158-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train15<span class="sc">$</span>x)</span>
<span id="cb158-7"><a href="preprocesado-de-datos..html#cb158-7" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train15<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb158-8"><a href="preprocesado-de-datos..html#cb158-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train15<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb158-9"><a href="preprocesado-de-datos..html#cb158-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train15<span class="sc">$</span>x)</span>
<span id="cb158-10"><a href="preprocesado-de-datos..html#cb158-10" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train15<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb158-11"><a href="preprocesado-de-datos..html#cb158-11" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train15<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2015-3.png" width="672" /></p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="preprocesado-de-datos..html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cálculo de los medoides: </span></span>
<span id="cb159-2"><a href="preprocesado-de-datos..html#cb159-2" aria-hidden="true" tabindex="-1"></a>k10<span class="ot">=</span><span class="fu">fastkmed</span>(distancia_dice,<span class="at">ncluster=</span><span class="dv">10</span>)</span>
<span id="cb159-3"><a href="preprocesado-de-datos..html#cb159-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción de los medoides:</span></span>
<span id="cb159-4"><a href="preprocesado-de-datos..html#cb159-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(setas_train<span class="sc">$</span>Venenosas[k10<span class="sc">$</span>medoid])</span></code></pre></div>
<pre><code>## 
## 0 1 
## 7 3</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="preprocesado-de-datos..html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Análsiis de componentes principales</span></span>
<span id="cb161-2"><a href="preprocesado-de-datos..html#cb161-2" aria-hidden="true" tabindex="-1"></a>pca.train10<span class="ot">=</span><span class="fu">prcomp</span>(distancia_dice[,k10<span class="sc">$</span>medoid])</span>
<span id="cb161-3"><a href="preprocesado-de-datos..html#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train10)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2010-1.png" width="672" /></p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="preprocesado-de-datos..html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train10<span class="sc">$</span>x,<span class="at">col=</span>setas_train<span class="sc">$</span>Venenosas<span class="sc">+</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2010-2.png" width="672" /></p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="preprocesado-de-datos..html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico alternativo</span></span>
<span id="cb163-2"><a href="preprocesado-de-datos..html#cb163-2" aria-hidden="true" tabindex="-1"></a>comestible<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb163-3"><a href="preprocesado-de-datos..html#cb163-3" aria-hidden="true" tabindex="-1"></a>no.comestibles<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb163-4"><a href="preprocesado-de-datos..html#cb163-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-5"><a href="preprocesado-de-datos..html#cb163-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb163-6"><a href="preprocesado-de-datos..html#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train10<span class="sc">$</span>x)</span>
<span id="cb163-7"><a href="preprocesado-de-datos..html#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train10<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb163-8"><a href="preprocesado-de-datos..html#cb163-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train10<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb163-9"><a href="preprocesado-de-datos..html#cb163-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train10<span class="sc">$</span>x)</span>
<span id="cb163-10"><a href="preprocesado-de-datos..html#cb163-10" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train10<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb163-11"><a href="preprocesado-de-datos..html#cb163-11" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train10<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2010-3.png" width="672" /></p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="preprocesado-de-datos..html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cálculo de los medoides: </span></span>
<span id="cb164-2"><a href="preprocesado-de-datos..html#cb164-2" aria-hidden="true" tabindex="-1"></a>k20<span class="ot">=</span><span class="fu">fastkmed</span>(distancia_dice,<span class="at">ncluster=</span><span class="dv">20</span>)</span>
<span id="cb164-3"><a href="preprocesado-de-datos..html#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Proporción de los medoides:</span></span>
<span id="cb164-4"><a href="preprocesado-de-datos..html#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(setas_train<span class="sc">$</span>Venenosas[k20<span class="sc">$</span>medoid])</span></code></pre></div>
<pre><code>## 
##  0  1 
## 14  6</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="preprocesado-de-datos..html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Análsiis de componentes principales</span></span>
<span id="cb166-2"><a href="preprocesado-de-datos..html#cb166-2" aria-hidden="true" tabindex="-1"></a>pca.train20<span class="ot">=</span><span class="fu">prcomp</span>(distancia_dice[,k20<span class="sc">$</span>medoid])</span>
<span id="cb166-3"><a href="preprocesado-de-datos..html#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train20)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2020-1.png" width="672" /></p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="preprocesado-de-datos..html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train20<span class="sc">$</span>x,<span class="at">col=</span>setas_train<span class="sc">$</span>Venenosas<span class="sc">+</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2020-2.png" width="672" /></p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="preprocesado-de-datos..html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Gráfico alternativo</span></span>
<span id="cb168-2"><a href="preprocesado-de-datos..html#cb168-2" aria-hidden="true" tabindex="-1"></a>comestible<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb168-3"><a href="preprocesado-de-datos..html#cb168-3" aria-hidden="true" tabindex="-1"></a>no.comestibles<span class="ot">=</span><span class="fu">which</span>(setas_train[,<span class="dv">1</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb168-4"><a href="preprocesado-de-datos..html#cb168-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-5"><a href="preprocesado-de-datos..html#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb168-6"><a href="preprocesado-de-datos..html#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train20<span class="sc">$</span>x)</span>
<span id="cb168-7"><a href="preprocesado-de-datos..html#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train20<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb168-8"><a href="preprocesado-de-datos..html#cb168-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train20<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb168-9"><a href="preprocesado-de-datos..html#cb168-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pca.train20<span class="sc">$</span>x)</span>
<span id="cb168-10"><a href="preprocesado-de-datos..html#cb168-10" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train20<span class="sc">$</span>x[no.comestibles,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">2</span>,<span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb168-11"><a href="preprocesado-de-datos..html#cb168-11" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(pca.train20<span class="sc">$</span>x[comestible,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],<span class="at">col=</span><span class="dv">1</span>,<span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="MEMORIA_files/figure-html/medoides%2020-3.png" width="672" /></p>
<p>Los resultados son bastantes parecidos cuando cogemos una cantidad de medoides entre 10 y 20.
A pesar de ellos, nos quedaremos con la distancia de todas las observaciones a los 50 medoides, para tener más información.</p>
</div>
</div>
<div id="transformación-de-variables" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Transformación de variables</h2>
<p>Las variables no necesitan ninguna modificación adicional, pues ya las hemos codificado anteriormente. Lo único que transformamos son nuestro datos. A partir de ahora, los datos serán la distancia de cada seta a los 50 medoides que hemos calculado, esto permite utilizar la distancia euclínea en los algoritmos posteriores.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="preprocesado-de-datos..html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Datos train:</span></span>
<span id="cb169-2"><a href="preprocesado-de-datos..html#cb169-2" aria-hidden="true" tabindex="-1"></a>setas50_train<span class="ot">=</span>distancia_dice[,k50<span class="sc">$</span>medoid]</span>
<span id="cb169-3"><a href="preprocesado-de-datos..html#cb169-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-4"><a href="preprocesado-de-datos..html#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Datos test:</span></span>
<span id="cb169-5"><a href="preprocesado-de-datos..html#cb169-5" aria-hidden="true" tabindex="-1"></a>medoides_setas_test<span class="ot">=</span><span class="fu">rbind</span>(setas_train[k50<span class="sc">$</span>medoid,],setas_test)</span>
<span id="cb169-6"><a href="preprocesado-de-datos..html#cb169-6" aria-hidden="true" tabindex="-1"></a>distancia_medoides_test<span class="ot">=</span><span class="fu">distance</span>(medoides_setas_test[,<span class="dv">2</span><span class="sc">:</span><span class="dv">117</span>],<span class="at">method=</span><span class="st">&quot;dice&quot;</span>)</span></code></pre></div>
<pre><code>## Metric: &#39;dice&#39;; comparing: 1674 vectors.</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="preprocesado-de-datos..html#cb171-1" aria-hidden="true" tabindex="-1"></a>setas50_test<span class="ot">=</span>distancia_medoides_test[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>),<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>)]</span>
<span id="cb171-2"><a href="preprocesado-de-datos..html#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="preprocesado-de-datos..html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Datos validation:</span></span>
<span id="cb171-4"><a href="preprocesado-de-datos..html#cb171-4" aria-hidden="true" tabindex="-1"></a>medoides_setas_validacion<span class="ot">=</span><span class="fu">rbind</span>(setas_train[k50<span class="sc">$</span>medoid,],setas_validacion)</span>
<span id="cb171-5"><a href="preprocesado-de-datos..html#cb171-5" aria-hidden="true" tabindex="-1"></a>distancia_medoides_validacion<span class="ot">=</span><span class="fu">distance</span>(medoides_setas_validacion[,<span class="dv">2</span><span class="sc">:</span><span class="dv">117</span>],<span class="at">method=</span><span class="st">&quot;dice&quot;</span>)</span></code></pre></div>
<pre><code>## Metric: &#39;dice&#39;; comparing: 1676 vectors.</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="preprocesado-de-datos..html#cb173-1" aria-hidden="true" tabindex="-1"></a>setas50_validacion<span class="ot">=</span>distancia_medoides_validacion[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>),<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>)]</span></code></pre></div>
</div>
<div id="imputacion-de-datos-datos-faltantes" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Imputacion de datos (datos faltantes)</h2>
<p>No se requiere de imputación de datos, pues no hay datos faltantes en ninguna de las variables.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modelado.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
